(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a(356)},204:function(e,t,a){},335:function(e,t){},338:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),l=a.n(o),s=(a(204),a(49)),i=a(50),c=a(55),h=a(51),u=a(30),m=a(56),y=a(368),d=a(357),p=a(366),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={players:[]},a.props.socket.on("updatePlayers",function(e){a.setState({players:e})}),a.handleVote=a.handleVote.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleVote",value:function(e){this.props.socket.emit("vote",e.target.getAttribute("data-player"))}},{key:"render",value:function(){for(var e=[],t=0,a=0;a<this.state.players.length;a++)e.push(r.a.createElement(y.a.Item,{key:t},"".concat(this.state.players[a].name," - (").concat(this.state.players[a].voters.length,") ").concat(this.state.players[a].voters.join(", ")),r.a.createElement(d.a,{"data-player":this.state.players[a].name,size:"small",onClick:this.handleVote,style:{marginLeft:"15px"}},"Vote"))),t++;return r.a.createElement("div",null,r.a.createElement("h2",null,"Players (".concat(this.state.players.length,"):")),r.a.createElement(p.a,{style:{width:"50%",marginLeft:"auto",marginRight:"auto"}},r.a.createElement(y.a,null,e)))}}]),t}(r.a.Component),b=a(177),g=a.n(b),v=a(365),E=a(364),k=a(114),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={history:[]},a.props.socket.on("updateHistory",function(e){a.setState({history:e})}),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[];console.log(this.state.history);for(var t=1;t<=this.state.history.length;t++)e.push(r.a.createElement(y.a.Item,null,r.a.createElement("span",{style:{float:"left"}},this.state.history[this.state.history.length-t].time),r.a.createElement("span",null,this.state.history[this.state.history.length-t].string)));return r.a.createElement("div",null,r.a.createElement("h2",null,"Voting history:"),r.a.createElement(p.a,{style:{width:"50%",marginLeft:"auto",marginRight:"auto",height:"300px",overflow:"auto"}},r.a.createElement(y.a,null,e,r.a.createElement(k.a,{style:{fontStyle:"italic"}},"This is the beginning of the voting history"))))}}]),t}(r.a.Component),j=(a(338),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={socket:g()()},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.reset=a.reset.bind(Object(u.a)(a)),a.clearVotes=a.clearVotes.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=new FormData(e.target);if(0!=t.get("name").length){this.state.socket.emit("addPlayer",t.get("name"));var a=document.getElementById("nameForm");a.parentNode.removeChild(a)}}},{key:"clearVotes",value:function(){window.confirm("Are you sure you want to clear votes?")&&this.state.socket.emit("clearVotes")}},{key:"reset",value:function(){window.confirm("Are you sure you want to restart the app? This will kick everyone and erase the voting history.")&&this.state.socket.emit("restart")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("br",null),r.a.createElement("h1",null,"Mafia Voting"),r.a.createElement(v.a,{id:"nameForm",onSubmit:this.handleSubmit},r.a.createElement("p",null,"(NB: If you've accidentally refreshed the page, just enter the same name again to regain control of that player)"),r.a.createElement(E.a,{maxLength:"15",id:"name",placeholder:"Enter your name:",name:"name"}),r.a.createElement(d.a,{type:"submit"},"Join")),r.a.createElement("br",null),r.a.createElement(f,{socket:this.state.socket}),r.a.createElement("br",null),r.a.createElement(w,{socket:this.state.socket}),r.a.createElement("br",null),r.a.createElement(d.a,{onClick:this.clearVotes,color:"red"},"Clear Votes"),r.a.createElement(d.a,{onClick:this.reset,color:"red"},"Reset All"))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,1,2]]]);
//# sourceMappingURL=main.b5d61a75.chunk.js.map